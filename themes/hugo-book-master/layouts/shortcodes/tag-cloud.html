{{ define "main" }}
<h1>üè∑Ô∏è Tag Cloud</h1>

<div class="tag-cloud">
  <a href="{{ "/tags/" | relURL }}{{ . | urlize }}/" class="archive-tag" style="background-color: #f6f8fa;">{{ . }}</a>
  {{ range $name, $taxonomy := .Site.Taxonomies.tags }}
    {{ $count := len $taxonomy.page }}  <!-- ‚úÖ Count the number of posts per tag -->
    {{ $minSize := 12 }}           <!-- ‚úÖ Minimum font size in px -->
    {{ $maxSize := 40 }}           <!-- ‚úÖ Maximum font size in px -->
    {{ $scale := div (sub $maxSize $minSize) 10.0 }} <!-- ‚úÖ Scaling factor -->

    <!-- ‚úÖ Ensure font size does not exceed $maxSize -->
    {{ $fontSize := add $minSize (mul (cond (gt $count 10) 10 $count) $scale) }}

    <a href="{{ "/tags/" | relURL }}{{ $name | urlize }}/"
       class="tag-item"
       style="font-size: {{ $fontSize }}px;">
      {{ $name }}
    </a>
  {{ end }}
</div>
{{ end }}

